{"version":3,"sources":["../src/utils.js"],"names":[],"mappings":"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","file":"utils.js","sourcesContent":["import fs from 'fs-extra';\nimport moment from 'moment';\nimport chalk from 'chalk';\nimport templateJSON from '../templates/default.json';\n\nexport function removeNote(arry, index) {\n  arry.splice(index, 1);\n}\n\nexport function completeNote(arry, index) {\n  arry[index]['status'] = 'complete';\n}\n\nexport function incompleteNote(arry, index) {\n  arry[index]['status'] = 'incomplete';\n}\n\nexport function failNote(arry, index) {\n  arry[index]['status'] = 'failed';\n}\n\nexport function createDir(create, path) {\n  var templateDest = path + '/templates/';\n  var templateFile = path + '/templates/default.json';\n  if (create) {\n    fs.mkdirsSync(path);\n    fs.mkdirsSync(templateDest);\n    fs.closeSync(fs.openSync(templateFile, 'w'));\n    fs.writeJsonSync(templateFile, templateJSON);\n    console.log(' ');\n    console.log(chalk.green('Success!'));\n  } else {\n    console.log(' ');\n    console.log('Make sure that dir exists and has a templates dir in it with a note config!');\n  }\n}\n\nexport function getRootDir() {\n  var config = `${process.env.HOME}/.nonoterc.json`;\n  // TODO: handle the case of `nonote new` when `nonote init` has not been run\n  return fs.readJsonSync(config).notesDirectory;\n}\n\nexport function getDateDir() {\n  const today = moment().format(\"DD-MM-YYYY\");\n  const notesDir = getRootDir();\n  const days = `${notesDir}/days/`;\n  const toDir = days + today;\n  return toDir;\n}\n\nexport function initializeNotes(userDir) {\n  var lastChar = userDir.substr(userDir.length - 1);\n  if ( lastChar === \"/\" ) {\n    userDir = userDir.slice(0, -1);\n  }\n\n  var doubleIndex = userDir.indexOf(\"//\");\n  if ( doubleIndex > -1 ) {\n    userDir = userDir.slice(0, doubleIndex) + userDir.slice(doubleIndex + 1);\n  }\n\n  var rcFile = `${process.env.HOME}/.nonoterc.json`;\n  fs.closeSync(fs.openSync(rcFile, 'w'));\n\n  var dotFileJSON = {}\n  dotFileJSON.notesDirectory = userDir;\n\n  fs.writeJsonSync(rcFile, dotFileJSON);\n  console.log(chalk.green('Success!'));\n  console.log(' ');\n  console.log('dotfile `.nonoterc.json` created at $HOME' );\n  console.log(' ');\n  console.log('Notes will be made in this directory: ')\n  console.log(chalk.cyan(dotFileJSON.notesDirectory));\n  console.log(' ');\n}\n\nexport function changeStatus(index, key, cb) {\n  const today = moment().format(\"DD-MM-YYYY\");\n  var configPath = `${process.env.HOME}/.nonoterc.json`;\n  fs.readJson(configPath, (err, configJSON) => {\n    if (err) console.error(err)\n\n    const notesDir = configJSON.notesDirectory;\n    const days = `${notesDir}/days/`;\n    const toDir = days + today;\n    var toData = `${toDir}/data.json`;\n\n    fs.readJson(toData, (err, dataJSON) => {\n      if (err) console.error(err)\n\n      var cliFound = false;\n      Object.keys(dataJSON).map(function(note, noteIndex){\n        if (dataJSON[note]['cli-ref'] === key) {\n          cliFound = true;\n          if (!dataJSON[note]['items'][index]) {\n            throw new Error(`index ${index} in \"${key}\" object does not exist`);\n          }\n          cb(dataJSON[note]['items'], index);\n          fs.writeJson(toData, dataJSON, (err) => {\n            if (err) return console.error(err)\n\n            makeNote(dataJSON, () => {process.exit();});\n          });\n        } else if (Object.keys(dataJSON).length === (noteIndex + 1) && !cliFound) {\n          throw new Error(`\"${key}\" <cli-ref> does not exist`);\n        }\n      });\n    });\n  });\n}\n\nvar emptyFunc = () => {};\n\nexport function makeNote(jsonObj, cb = emptyFunc) {\n  var dir = getDateDir();\n  var toMd = `${dir}/note.md`;\n  var noteMd = fs.createWriteStream(toMd);\n\n  Object.keys(jsonObj).map(function(title) {\n    var cliRef = jsonObj[title]['cli-ref'];\n    noteMd.write(`# ${title} --> ${cliRef}\\n`);\n    Object.keys(jsonObj[title]['items']).map(function(items, index){\n      var status = jsonObj[title]['items'][items]['status'];\n      var checkBox = '- [ ]';\n      var itemIndex = ` ${index}.) `;\n      if (status === 'complete') {\n        checkBox = '- [x]';\n      } else if (status === 'failed') {\n        checkBox = '- [-]';\n      }\n      noteMd.write(checkBox + itemIndex + jsonObj[title]['items'][items]['description'] + \"\\n\");\n    });\n    noteMd.write(\"\\n\");\n  });\n  noteMd.on('finish', cb);\n  noteMd.end();\n}\n\nexport function removeSection(section) {\n  const today = moment().format(\"DD-MM-YYYY\");\n  var configPath = `${process.env.HOME}/.nonoterc.json`;\n  fs.readJson(configPath, (err, configJSON) => {\n    const notesDir = configJSON.notesDirectory;\n    const days = `${notesDir}/days/`;\n    const dir = days + today;\n    var dataPath = `${dir}/data.json`;\n    fs.readJson(dataPath, (err, dataJSON) => {\n\n      Object.keys(dataJSON).map(note => {\n        if ( dataJSON[note]['cli-ref'] === section ) {\n          console.log(`\"${chalk.cyan(note)}\" section was removed!`);\n          delete dataJSON[note];\n        }\n      });\n\n      fs.writeJson(dataPath, dataJSON, (err) => {\n        if (err) return console.error(err)\n\n        makeNote(dataJSON);\n      })\n    });\n  });\n}\n\nexport function createSection(name, cliRef, description = 'no description') {\n  const today = moment().format(\"DD-MM-YYYY\");\n  var configPath = `${process.env.HOME}/.nonoterc.json`;\n  fs.readJson(configPath, (err, configJSON) => {\n    const notesDir = configJSON.notesDirectory;\n    const days = `${notesDir}/days/`;\n    const dir = days + today;\n    var dataPath = `${dir}/data.json`;\n    fs.readJson(dataPath, (err, dataJSON) => {\n      dataJSON[name] = {\n        'cli-ref': cliRef,\n        'description': description,\n        'items': []\n      };\n\n      fs.writeJson(dataPath, dataJSON, (err) => {\n        if (err) return console.error(err)\n\n        makeNote(dataJSON, () => {process.exit();});\n      })\n    });\n  });\n}\n\nexport function addNote(noteObj, key) {\n  const today = moment().format(\"DD-MM-YYYY\");\n  var configPath = `${process.env.HOME}/.nonoterc.json`;\n  fs.readJson(configPath, (err, configJSON) => {\n    if (err) console.error(err)\n\n    const notesDir = configJSON.notesDirectory;\n    const days = `${notesDir}/days/`;\n    const toDir = days + today;\n    const dataPath = `${toDir}/data.json`;\n\n    var noteString = noteObj.reduce(function(memo, word){\n      return memo + ' ' + word;\n    });\n\n    var descriptionObj = {\n      description: noteString,\n      status: 'incomplete',\n    };\n\n    // modify toData\n    fs.readJson(dataPath, (err, dataJSON) => {\n      Object.keys(dataJSON).map(function(note){\n        if (dataJSON[note]['cli-ref'] === key) {\n          dataJSON[note]['items'].push(descriptionObj);\n          fs.writeJson(dataPath, dataJSON, (err) => {\n            if (err) return console.error(err)\n\n            makeNote(dataJSON, () => {process.exit();});\n          });\n        }\n      });\n    });\n  });\n}\n"]}